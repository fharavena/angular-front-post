<div class="loading" *ngIf="!category">
    Cargando ...
  </div>
  
  <div class="container-fluid mt-3" *ngIf="category">
    <h1>{{ category.name }}</h1>
    <hr />

    <div class="loading" *ngIf="!posts">
        Cargando listado...
      </div>


      <div class="alert alert-warning" *ngIf="posts && posts.length == 0">
        No hay entradas que mostrar en esta categoria.
      </div>

    <div class="card-columns"  *ngIf="posts && posts.length >= 1">
      <article class="card w-100" *ngFor="let post of posts">
        <div class="card-header">
          <h3>
            <a [routerLink]="['/entrada', post.id]">{{ post.title }}</a>
          </h3>
        </div>
        <div class="card-body">
          <div class="post-image w-100" *ngIf="post.image">
            <img
              src="{{ url + 'post/image/' + post.image }}"
              alt=""
              class="w-100"
            />
          </div>
  
          <div class="post-image w-100" *ngIf="!post.image">
            <img src="../../../assets/images/default.png" alt="" class="w-100" />
          </div>
  
          <div class="post-buttons mt-3">
            <a class="btn btn-success mr-2" [routerLink]="['/entrada', post.id]"
              >Leer</a
            >
  
            <span *ngIf="identity && identity.sub == post.user_id">
              <a
                class="btn btn-warning mr-2"
                [routerLink]="['/editar-entrada', post.id]"
                >Editar</a
              >
  

              <button
                type="button"
                class="btn btn-danger"
                data-toggle="modal"
                [attr.data-target]="'#myModal' + post.id"
              >
                Borrar
              </button>

              <div id="myModal{{ post.id }}" class="modal fade" role="dialog">
                <div class="modal-dialog">
 
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal">
                        &times;
                      </button>
                      <h4 class="modal-title">
                        Â¿Seguro que quieres borrar esta entrada?
                      </h4>
                    </div>
                    <div class="modal-body">
                      <p>Vas a borrar definitivamente {{ post.title }}.</p>
                    </div>
                    <div class="modal-footer">
                      <a class="btn btn-danger" (click)="deletePost(post.id)" data-dismiss="modal"
                        >Borrar</a
                      >
                      <button
                        type="button"
                        class="btn btn-warning"
                        data-dismiss="modal"
                      >
                        Cancelar
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </span>
          </div>
        </div>
      </article>
    </div>


  </div>
  